{"ast":null,"code":"import _objectSpread from\"/Users/user/Documents/frontend/react-sneakers/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _regeneratorRuntime from\"/Users/user/Documents/frontend/react-sneakers/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _toConsumableArray from\"/Users/user/Documents/frontend/react-sneakers/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _asyncToGenerator from\"/Users/user/Documents/frontend/react-sneakers/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/user/Documents/frontend/react-sneakers/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from'react';import axios from'axios';import{Link}from'react-router-dom';import Card from'../components/Card/Index';import Info from'../components/Info';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Orders(){var _React$useState=React.useState([]),_React$useState2=_slicedToArray(_React$useState,2),isOrders=_React$useState2[0],setIsOrders=_React$useState2[1];var _React$useState3=React.useState(true),_React$useState4=_slicedToArray(_React$useState3,2),isLoading=_React$useState4[0],setIsLoading=_React$useState4[1];React.useEffect(function(){_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var _yield$axios$get,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.get(\"https://6387382ad9b24b1be3e9cb49.mockapi.io/orders\");case 3:_yield$axios$get=_context.sent;data=_yield$axios$get.data;setIsOrders(data.reduce(function(prev,obj){return[].concat(_toConsumableArray(prev),_toConsumableArray(obj.items));},[]));setIsLoading(false);_context.next=13;break;case 9:_context.prev=9;_context.t0=_context[\"catch\"](0);alert('Не удалось отобразить список ваших покупок');console.error(_context.t0);case 13:case\"end\":return _context.stop();}}},_callee,null,[[0,9]]);}))();},[]);return/*#__PURE__*/_jsx(\"div\",{className:\"content p-40\",children:isOrders.length>0?/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex flex-wrap align-center  mb-20 mr-15 ml-15\",children:[/*#__PURE__*/_jsx(Link,{to:\"/\",children:/*#__PURE__*/_jsx(\"img\",{width:35,height:35,src:\"/img/liked/back.svg\",alt:\"back\",className:\"mr-10\"})}),/*#__PURE__*/_jsx(\"h1\",{className:\"ml-10\",children:\"\\u041C\\u043E\\u0438 \\u043F\\u043E\\u043A\\u0443\\u043F\\u043A\\u0438\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"sneakers d-flex flex-wrap\",children:(isLoading?_toConsumableArray(Array(4)):isOrders).map(function(item,index){return/*#__PURE__*/_jsx(Card,_objectSpread({loading:isLoading},item),index);})})]}):/*#__PURE__*/_jsx(Info,{title:\"\\u0423 \\u0432\\u0430\\u0441 \\u043D\\u0435\\u0442 \\u0437\\u0430\\u043A\\u0430\\u0437\\u043E\\u0432\",description:\"\\u0412\\u044B \\u043D\\u0438\\u0449\\u0435\\u0431\\u0440\\u043E\\u0434?  \\u041E\\u0444\\u043E\\u0440\\u043C\\u0438\\u0442\\u0435 \\u0445\\u043E\\u0442\\u044F \\u0431\\u044B \\u043E\\u0434\\u0438\\u043D \\u0437\\u0430\\u043A\\u0430\\u0437.\",image:\"/img/orders/orders.png\"})});}export default Orders;","map":{"version":3,"names":["React","axios","Link","Card","Info","Orders","useState","isOrders","setIsOrders","isLoading","setIsLoading","useEffect","get","data","reduce","prev","obj","items","alert","console","error","length","Array","map","item","index"],"sources":["/Users/user/Documents/frontend/react-sneakers/src/pages/Orders.jsx"],"sourcesContent":["import React from'react';\nimport axios from 'axios';\nimport {Link} from 'react-router-dom';\n\nimport Card from '../components/Card/Index';\nimport Info from '../components/Info';\n\n\nfunction Orders() {\n   const [isOrders, setIsOrders] = React.useState([]);\n   const [isLoading, setIsLoading] = React.useState(true);\n\n   React.useEffect(() => {\n      (async() => {\n         try {\n            const { data } = await axios.get(`https://6387382ad9b24b1be3e9cb49.mockapi.io/orders`);\n            setIsOrders(data.reduce((prev, obj) => [...prev, ...obj.items], []));\n            setIsLoading(false);\n         } catch (error) {\n            alert ('Не удалось отобразить список ваших покупок');\n            console.error(error);\n         }\n      })()\n   }, []);\n\n   return (\n      <div className=\"content p-40\">\n         {\n            isOrders.length > 0 ? \n               (<div>\n                  <div className= \"d-flex flex-wrap align-center  mb-20 mr-15 ml-15\">\n                     <Link to='/'>\n                        <img width={35} height={35} src=\"/img/liked/back.svg\" alt=\"back\" className='mr-10'/>\n                     </Link>\n                     <h1 className='ml-10'>Мои покупки</h1>\n                  </div>\n                  <div className=\"sneakers d-flex flex-wrap\">\n                     {(isLoading \n                     ? [...Array(4)] \n                     : isOrders)\n                     .map((item, index) => (\n                           <Card \n                              key={index}\n                              loading={isLoading}\n                              {...item}\n                           />\n                     ))}\n                  </div>\n               </div>)\n            :\n            (<Info title=\"У вас нет заказов\" description=\"Вы нищеброд?  Оформите хотя бы один заказ.\" image=\"/img/orders/orders.png\" />)\n         } \n      </div>\n   )\n}\n\nexport default Orders;\n"],"mappings":"sqBAAA,MAAOA,MAAK,KAAK,OAAO,CACxB,MAAOC,MAAK,KAAM,OAAO,CACzB,OAAQC,IAAI,KAAO,kBAAkB,CAErC,MAAOC,KAAI,KAAM,0BAA0B,CAC3C,MAAOC,KAAI,KAAM,oBAAoB,CAAC,wFAGtC,QAASC,OAAM,EAAG,CACf,oBAAgCL,KAAK,CAACM,QAAQ,CAAC,EAAE,CAAC,oDAA3CC,QAAQ,qBAAEC,WAAW,qBAC5B,qBAAkCR,KAAK,CAACM,QAAQ,CAAC,IAAI,CAAC,qDAA/CG,SAAS,qBAAEC,YAAY,qBAE9BV,KAAK,CAACW,SAAS,CAAC,UAAM,CACnB,0DAAC,qMAE4BV,MAAK,CAACW,GAAG,sDAAsD,uCAA9EC,IAAI,kBAAJA,IAAI,CACZL,WAAW,CAACK,IAAI,CAACC,MAAM,CAAC,SAACC,IAAI,CAAEC,GAAG,qCAASD,IAAI,qBAAKC,GAAG,CAACC,KAAK,IAAC,CAAE,EAAE,CAAC,CAAC,CACpEP,YAAY,CAAC,KAAK,CAAC,CAAC,+EAEpBQ,KAAK,CAAE,4CAA4C,CAAC,CACpDC,OAAO,CAACC,KAAK,aAAO,CAAC,oEAE1B,IAAG,CACP,CAAC,CAAE,EAAE,CAAC,CAEN,mBACG,YAAK,SAAS,CAAC,cAAc,UAEvBb,QAAQ,CAACc,MAAM,CAAG,CAAC,cACf,oCACE,aAAK,SAAS,CAAE,kDAAkD,wBAC/D,KAAC,IAAI,EAAC,EAAE,CAAC,GAAG,uBACT,YAAK,KAAK,CAAE,EAAG,CAAC,MAAM,CAAE,EAAG,CAAC,GAAG,CAAC,qBAAqB,CAAC,GAAG,CAAC,MAAM,CAAC,SAAS,CAAC,OAAO,EAAE,EAChF,cACP,WAAI,SAAS,CAAC,OAAO,2EAAiB,GACnC,cACN,YAAK,SAAS,CAAC,2BAA2B,UACtC,CAACZ,SAAS,oBACLa,KAAK,CAAC,CAAC,CAAC,EACZf,QAAQ,EACTgB,GAAG,CAAC,SAACC,IAAI,CAAEC,KAAK,qBACX,KAAC,IAAI,gBAEF,OAAO,CAAEhB,SAAU,EACfe,IAAI,EAFHC,KAAK,CAGX,EACP,CAAC,EACC,GACH,cAER,KAAC,IAAI,EAAC,KAAK,CAAC,yFAAmB,CAAC,WAAW,CAAC,iNAA4C,CAAC,KAAK,CAAC,wBAAwB,EAAI,EAE5H,CAEZ,CAEA,cAAepB,OAAM"},"metadata":{},"sourceType":"module","externalDependencies":[]}